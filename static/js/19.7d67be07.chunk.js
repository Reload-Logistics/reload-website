"use strict";(self.webpackChunkmatols_website=self.webpackChunkmatols_website||[]).push([[19],{9019:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var t=l(2907),r=l(6007),d=l(7613),o=l(5624),a=l(7506),i=l(2820),n=l(4694),c=l(4703),x=l(4732),m=l(5043),p=l(423),h=l(579);function u(e){let{currentPage:s,maxPages:l,onPageChange:t,...r}=e;return(0,h.jsxs)("div",{...r,className:"max-w-fit",children:[(0,h.jsx)("div",{className:"mb-[10px]",children:(0,h.jsxs)("p",{className:"text-sm text-gray-800",children:["Showing page ",(0,h.jsx)("span",{className:"font-bold",children:s})," of"," ",(0,h.jsx)("span",{className:"font-bold",children:l})," Pages"]})}),(0,h.jsxs)("div",{className:"flex flex-row items-center",children:[(0,h.jsx)("button",{onClick:()=>{if(s>1)return t(s-1)},disabled:s<=1,className:(0,n.cn)("border px-3 w-full py-2 rounded-s-md text-sm block bg-yellow-400 border-yellow-400 hover:bg-yellow-500 disabled:opacity-50 disabled:hover:bg-yellow-400 disabled:hover:border-yellow-400 hover:border-yellow-500 text-slate-800 hover:text-slate-950 disabled:hover:text-slate-800",{}),children:(0,h.jsxs)("div",{className:"flex flex-row justify-center items-center gap-1",children:[(0,h.jsx)("div",{children:(0,h.jsx)(p.m6W,{})}),(0,h.jsx)("span",{className:"select-none",children:"Previous"})]})}),(0,h.jsx)("button",{onClick:()=>{if(s<l)return t(s+1)},disabled:s>=l,className:(0,n.cn)("border px-3 w-full py-2 rounded-e-md text-sm block bg-yellow-400 border-yellow-400 disabled:opacity-50 disabled:hover:bg-yellow-400 disabled:hover:border-yellow-400 hover:bg-yellow-500 hover:border-yellow-500 text-slate-800 hover:text-slate-950 disabled:hover:text-slate-800",{}),children:(0,h.jsxs)("div",{className:"flex flex-row justify-center items-center gap-1",children:[(0,h.jsx)("span",{className:"select-none",children:"Next"}),(0,h.jsx)("div",{children:(0,h.jsx)(p.OQo,{})})]})})]})]})}function v(){const[e,s]=(0,m.useState)(1),[l,p]=(0,m.useState)(0),{data:v,error:j,isError:b,isLoading:g,isSuccess:y}=(0,t.useQuery)({keepPreviousData:!0,staleTime:0,queryKey:["bookings",e],queryFn:()=>(0,r.An)(e),onSuccess:e=>{p(e.count)}});return(0,m.useEffect)((()=>{window.scrollTo(0,0)}),[]),g?(0,h.jsx)(o.q,{secondary_text:"loading your bookings"}):b?(0,h.jsx)(d.$p,{secondaryText:"".concat(j.response.data)}):(0,h.jsx)(x.q,{children:(0,h.jsxs)("main",{className:"max-w-xl mx-auto p-6 my-6 text-black bg-white",children:[(0,h.jsx)("div",{className:"rounded-md p-4 shadow-sm border border-gray-200 my-2",children:(0,h.jsxs)("h2",{className:"text-start text-black font-extrabold text-3xl",children:["Bookings",(0,h.jsxs)("p",{className:"text-sm font-normal text-slate-800 pt-2",children:["Trust Reload logistics services to transport your items safely, find your bookings below. dont have a booking with us?"," ",(0,h.jsx)("a",{href:c.C.createbooking,className:"text-yellow-400 font-bold hover:opacity-75",children:"Book with us"}),"."]})]})}),(null===v||void 0===v?void 0:v.results.length)<=0&&(0,h.jsx)("div",{className:"min-h-72",children:(0,h.jsx)("p",{className:"text-lg text-center py-12 font-bold",children:"No active or cancelled bookings"})}),(0,h.jsx)("div",{className:"flex flex-col gap-6",children:null===v||void 0===v?void 0:v.results.map(((e,s)=>(0,h.jsx)(a.Y,{booking:e,children:(0,h.jsx)("div",{className:"w-full flex flex-row justify-end",children:(0,h.jsx)(i.$,{disabled:e.booking_canceled||e.booking_completed,className:(0,n.cn)("mt-6 w-auto hover:opacity-75 px-6",{"bg-red-500 text-gray-600":e.booking_canceled,"bg-gray-200 text-gray-600":e.booking_completed}),onClick:()=>{let s=window.document.createElement("a");s.href="/bookings/booking/".concat(e.id,"/view/"),s.target="_blank",s.rel="noreferrer",s.click()},children:"Update"})})},s)))}),(0,h.jsx)("div",{}),y&&(0,h.jsx)("div",{className:"flex w-full flex-row items-center justify-center mt-10",children:(0,h.jsx)(u,{maxPages:Math.round(l/5+.4),currentPage:e,onPageChange:e=>{s((s=>e))}})}),(0,h.jsx)("div",{className:"mb-20"})]})})}},7613:(e,s,l)=>{l.d(s,{$p:()=>a,C9:()=>d,Z0:()=>o});l(5043);var t=l(4694),r=l(579);function d(e){let{secondaryText:s,className:l,children:d,...o}=e;return(0,r.jsx)("div",{...o,className:(0,t.cn)("bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2",l),role:"alert",children:(0,r.jsx)("div",{className:"flex text-wrap break-words",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"Yey ! all set"}),(0,r.jsx)("p",{className:"text-sm text-wrap break-words",children:s||"Welcome to Reload Logistics services"})]})})})}function o(e){let{primaryText:s,secondaryText:l,className:d,children:o,...a}=e;return(0,r.jsx)("div",{...a,className:(0,t.cn)("bg-blue-100 border-t-4 border-blue-500 rounded-b-md text-blue-700 px-4 py-2",d),role:"alert",children:(0,r.jsx)("div",{className:"flex text-wrap break-words",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:s}),(0,r.jsx)("p",{className:"text-sm text-wrap break-words",children:l||"Welcome to Reload Logistics services"})]})})})}function a(e){let{secondaryText:s,className:l,children:d,...o}=e;return(0,r.jsx)("div",{...o,className:(0,t.cn)("bg-red-100 border-t-4 border-red-500 rounded-b-md text-red-900 px-4 py-2",l),role:"alert",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"Oops ! Error"}),(0,r.jsx)("p",{className:"text-sm",children:s||"An error occured"})]})})})}},7506:(e,s,l)=>{l.d(s,{Y:()=>m});var t=l(4694),r=l(7793),d=l(1462),o=l(4550),a=l(6178),i=l.n(a),n=l(607),c=l(579);function x(e){let{booking:s}=e;return(0,c.jsxs)("table",{className:(0,t.cn)("table-auto border border-yellow-100 mt-4 w-full border-separate border-spacing-0 rounded-md shadow-sm",{"border-red-100":null===s||void 0===s?void 0:s.booking_canceled,"border-gray-100":null===s||void 0===s?void 0:s.booking_completed}),children:[(0,c.jsx)("thead",{className:(0,t.cn)("bg-yellow-200",{"bg-red-200":null===s||void 0===s?void 0:s.booking_canceled,"bg-gray-200":null===s||void 0===s?void 0:s.booking_completed}),children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"rounded-ss-md text-start px-4 py-3",children:"Description"}),(0,c.jsx)("th",{className:"rounded-tr-md text-start px-4 py-3",children:"Details"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:"Booking date"}),(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:i()(new Date(null===s||void 0===s?void 0:s.booking_date)).format("YYYY-MMM-DD")})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:"Booking time"}),(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:i()(new Date("".concat(null===s||void 0===s?void 0:s.booking_date," ").concat(null===s||void 0===s?void 0:s.booking_time))).format("HH:mm")})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:"Vehicle type"}),(0,c.jsxs)("td",{className:"px-4 py-3 text-sm",children:[null===s||void 0===s?void 0:s.vehicle_type," Ton"]})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:"Helpers"}),(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:null===s||void 0===s?void 0:s.helpers})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:"Floors"}),(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:null===s||void 0===s?void 0:s.floors})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:"Payment option"}),(0,c.jsx)("td",{className:"px-4 py-3 text-sm",children:null===s||void 0===s?void 0:s.payment_option})]}),String(null===s||void 0===s?void 0:s.customer_driver_note).length>0&&(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:2,className:"px-4 py-3 text-sm",children:(0,c.jsx)("div",{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Drivers note:"}),(0,c.jsx)("p",{className:"text-gray-400",children:null===s||void 0===s?void 0:s.customer_driver_note})]})})})}),(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:2,className:"px-4 py-3 text-sm",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"py-2 w-full flex justify-start",children:(0,c.jsxs)("span",{className:"text-sm font-bold ",children:["Pick up and drop off locations"," "]})}),(0,c.jsx)("div",{className:"mt-1",children:null===s||void 0===s?void 0:s.pickup_dropoff_routes.map(((e,s)=>(0,c.jsx)(r.v,{pickup_dropoff_route:e},s)))}),(0,c.jsx)("div",{className:"w-full flex justify-start pt-2",children:(0,c.jsxs)("p",{className:"font-normal text-sm text-gray-400",children:["Total distance"," ",(0,c.jsxs)("span",{className:"text-slate-800",children:[null===s||void 0===s?void 0:s.distance," kms"]})]})})]})})}),(0,c.jsxs)("tr",{children:[(0,c.jsxs)("td",{className:(0,t.cn)("px-4 py-3 text-sm border-t border-t-yellow-100 flex flex-row justify-start items-center gap-1",{"border-t-red-100":null===s||void 0===s?void 0:s.booking_canceled,"border-t-gray-100":null===s||void 0===s?void 0:s.booking_completed}),children:["Base price"," ",(0,c.jsx)(o.m_,{content:n.Fk,placement:"top",trigger:"click",children:(0,c.jsx)(d.u7w,{className:"text-yellow-500 hover:opacity-75"})})]}),(0,c.jsxs)("td",{className:"px-4 py-3 text-sm border-t border-t-yellow-100 ",children:["R ",null===s||void 0===s?void 0:s.base_amount," "]})]}),(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsxs)("td",{className:"px-4 py-3 text-sm flex flex-row justify-start items-center gap-1",children:["Mid month discount"," ",(0,c.jsx)(o.m_,{content:n.Sv,placement:"top",trigger:"click",children:(0,c.jsx)(d.u7w,{className:"text-yellow-500 hover:opacity-75"})})]}),(0,c.jsxs)("td",{className:"px-4 py-3 text-sm text-red-500",children:["R -",null===s||void 0===s?void 0:s.mid_month_discount," "]})]}),(0,c.jsxs)("tr",{children:[(0,c.jsxs)("td",{className:"px-4 py-3 text-sm flex flex-row justify-start items-center gap-1",children:["Loyal discount",(0,c.jsx)(o.m_,{className:"bg-slate-800",content:n.h1,placement:"top",trigger:"click",arrow:!0,children:(0,c.jsx)(d.u7w,{className:"text-yellow-500 hover:opacity-75"})})]}),(0,c.jsxs)("td",{className:"px-4 py-3 text-sm text-red-500 ",children:["R -",null===s||void 0===s?void 0:s.loyal_customer_discount," "]})]}),0!=(null===s||void 0===s?void 0:s.price_adjustment)&&(0,c.jsxs)("tr",{children:[(0,c.jsxs)("td",{className:"px-4 py-3 text-sm flex flex-col justify-start items-start gap-0",children:[(0,c.jsxs)("div",{className:"flex flex-row justify-start items-center gap-1",children:["Price adjustment",(0,c.jsx)(o.m_,{className:"bg-slate-800",content:n.E1,placement:"top",trigger:"click",arrow:!0,children:(0,c.jsx)(d.u7w,{className:"text-yellow-400 hover:text-yellow-500"})})]}),(0,c.jsx)(o.m_,{className:"bg-slate-800",content:"Justification: ".concat(null===s||void 0===s?void 0:s.price_adjustment_note),placement:"top",trigger:"click",arrow:!0,children:(0,c.jsx)("span",{className:"text-xs text-yellow-400 hover:text-yellow-600 cursor-pointer",children:"Read more"})})]}),(0,c.jsxs)("td",{className:(0,t.cn)("px-4 py-3 text-sm text-red-500 ",{"text-green-500":(null===s||void 0===s?void 0:s.price_adjustment)>0}),children:["R ",null===s||void 0===s?void 0:s.price_adjustment]})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:(0,t.cn)("px-4 py-3 text-lg  bg-yellow-200 font-extrabold flex flex-row justify-start items-center gap-2",{"bg-red-200":null===s||void 0===s?void 0:s.booking_canceled,"bg-gray-200":null===s||void 0===s?void 0:s.booking_completed}),children:"Balance due"}),(0,c.jsxs)("td",{className:(0,t.cn)("px-4 py-3 text-lg font-extrabold bg-yellow-200",{"bg-red-200":null===s||void 0===s?void 0:s.booking_canceled,"bg-gray-200":null===s||void 0===s?void 0:s.booking_completed}),children:["R ",null===s||void 0===s?void 0:s.amount_due_customer," "]})]})]})]})}function m(e){let{booking:s,...l}=e;return(0,c.jsxs)("div",{className:"rounded-md pb-6",children:[(0,c.jsx)("h2",{className:(0,t.cn)("text-start text-slate-800 font-extrabold text-lg",{"text-red-600":null===s||void 0===s?void 0:s.booking_canceled,"text-gray-800":null===s||void 0===s?void 0:s.booking_completed}),children:(null===s||void 0===s?void 0:s.id)>0&&(0,c.jsx)("div",{className:"pt-2",children:(0,c.jsxs)("span",{children:["Invoice ",null===s||void 0===s?void 0:s.id," ",(null===s||void 0===s?void 0:s.booking_canceled)&&(0,c.jsx)("span",{children:"cancelled"}),(null===s||void 0===s?void 0:s.booking_completed)&&(0,c.jsx)("span",{children:"completed"})]})})}),(0,c.jsx)(x,{booking:s}),l.children]})}},7793:(e,s,l)=>{l.d(s,{v:()=>d});var t=l(5394),r=l(579);function d(e){let{pickup_dropoff_route:s}=e;return(0,r.jsx)("div",{className:"mb-1 border border-gray-200 p-2 rounded-md",children:(0,r.jsxs)("div",{className:"flex flex-row items-start gap-1",children:[(0,r.jsx)("div",{children:(0,r.jsx)(t.eVO,{size:18,className:"text-gray-400"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("p",{className:"text-sm font-bold",children:[s.primary_text,","," ",(0,r.jsx)("span",{className:"font-normal",children:s.secondary_text})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:[String(s.route_detail).length>0&&(0,r.jsx)("span",{className:"font-bold",children:"Message:"})," ",s.route_detail]})]})]})})}},4732:(e,s,l)=>{l.d(s,{q:()=>a});var t=l(1984);const r={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};var d=l(607),o=l(579);function a(e){let{children:s,...l}=e;return(0,o.jsx)(t.P.section,{variants:r,animate:"visible",initial:"hidden",exit:"exit",transition:{duration:d.KD,delay:d.XP},children:s})}},5624:(e,s,l)=>{l.d(s,{q:()=>d});var t=l(2780),r=l(579);function d(e){let{secondary_text:s}=e;return(0,r.jsxs)("div",{className:"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,r.jsx)("span",{className:"text-3xl font-bold",children:"Please be patient"}),(0,r.jsx)("span",{className:"text-xl",children:s})]}),(0,r.jsx)(t.LW,{visible:!0,width:"40",height:"20",color:"#000"})]})}}}]);
//# sourceMappingURL=19.7d67be07.chunk.js.map