{"version":3,"file":"static/js/13.18aaff13.chunk.js","mappings":"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","sources":["components/pages/profile.jsx","components/reusable_components/alerts/alerts.jsx","utils/animation_variants.jsx","components/reusable_components/load_page_animation.jsx","components/reusable_components/loading-content.jsx"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { cn } from \"../../utils/custom_functions\";\r\nimport { Button } from \"../reusable_components/custom_button\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useQuery, useMutation, useQueryClient } from \"react-query\";\r\nimport { fetchUserProfile, updateUserProfile } from \"../../api/api\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\nimport { LoadingComponent } from \"../reusable_components/loading-content\";\r\nimport { ErrorAlert, SuccessAlert } from \"../reusable_components/alerts/alerts\";\r\nimport { LoadPageAnimation } from \"../reusable_components/load_page_animation\";\r\n\r\nexport default function Profile() {\r\n  //\r\n  const queryClient = useQueryClient();\r\n  const [disableUserInterface, setDisableUserInterface] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { isLoading: isFormLoading, errors },\r\n  } = useForm();\r\n\r\n  const { data, error, isError, isLoading } = useQuery({\r\n    queryKey: [\"user-profile\"],\r\n    queryFn: fetchUserProfile,\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const {\r\n    isLoading: isRequestLoading,\r\n    isSuccess: isSuccessUpdate,\r\n    mutateAsync: updateProfileAsync,\r\n    isError: isErrorUpdate,\r\n    error: errorUpdate,\r\n  } = useMutation(\"update-profile\", {\r\n    mutationFn: updateUserProfile,\r\n    onSuccess: (_) => {\r\n      queryClient.invalidateQueries([\"user-profile\"]);\r\n      setDisableUserInterface((p) => false);\r\n    },\r\n    onError: (_) => setDisableUserInterface((p) => false),\r\n    onMutate: (_) => setDisableUserInterface((p) => true),\r\n  });\r\n\r\n  //handle submit\r\n  const onSubmit = async (data) => {\r\n    // updateProfileAsync\r\n    try {\r\n      await updateProfileAsync(data);\r\n    } catch (error) {}\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <LoadingComponent secondary_text={\"Loading Profile\"} />;\r\n  }\r\n  if (isError) {\r\n    return <ErrorAlert secondaryText={`${error.response.data}`} />;\r\n  }\r\n\r\n  return (\r\n    <LoadPageAnimation>\r\n      <main className=\"max-w-xl mx-auto p-6 my-6 text-black bg-white\">\r\n        <div className=\"rounded-md p-4 shadow-sm border border-gray-200\">\r\n          <h2 className=\"text-start text-black pb-6 font-extrabold text-3xl\">\r\n            Your profile\r\n            <p className=\"text-sm font-normal text-slate-800 pt-2\">\r\n              Thank you for trusting Reload Logistic Services with your personal\r\n              information.\r\n            </p>\r\n          </h2>\r\n\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"rounded-md shadow-sm\">\r\n              <div className=\"mb-6\">\r\n                <input\r\n                  disabled\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Reload@gmail.com\"\r\n                  value={data?.email}\r\n                  className={cn(\r\n                    \"text-sm text-slate-800 mb-2 w-full relative shadow-sm block rounded-md border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none\"\r\n                  )}\r\n                />\r\n                <p className=\"text-gray-600 text-xs\">\r\n                  To change your email please contact{\" \"}\r\n                  <span className=\"text-yellow-400 font-bold\">Admin</span>.\r\n                </p>\r\n              </div>\r\n              <input\r\n                {...register(\"user_first_name\", {\r\n                  required: \"User name required\",\r\n                  disabled: disableUserInterface,\r\n                  value: data?.user_first_name,\r\n                })}\r\n                id=\"user_first_name\"\r\n                type=\"text\"\r\n                name=\"user_first_name\"\r\n                placeholder=\"Enter username\"\r\n                className={cn(\r\n                  \"text-sm text-slate-800  w-full relative shadow-sm block rounded-t-md border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none\",\r\n                  {\r\n                    \" text-slate-800 placeholder:text-slate-800 bg-red-100\":\r\n                      errors.user_first_name,\r\n                    // \"placeholder:text-red-500\": errors.user_first_name,\r\n                  }\r\n                )}\r\n              />\r\n              <input\r\n                {...register(\"user_surname\", {\r\n                  required: \"User surname required\",\r\n                  value: data?.user_surname,\r\n                  disabled: disableUserInterface,\r\n                })}\r\n                type=\"text\"\r\n                name=\"user_surname\"\r\n                // placeholder=\"Enter surname\"\r\n                placeholder=\"Enter surname\"\r\n                autoComplete=\"new-off\"\r\n                className={cn(\r\n                  \"text-sm text-slate-800  w-full relative shadow-sm block border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none\",\r\n                  {\r\n                    \" text-slate-800 placeholder:text-slate-800 bg-red-100\":\r\n                      errors.user_surname,\r\n                    // \"placeholder:text-red-500 \": errors.user_surname,\r\n                  }\r\n                )}\r\n              />\r\n              <input\r\n                {...register(\"user_contact_number\", {\r\n                  required: \"User contact number required\",\r\n                  value: data?.user_contact_number,\r\n                  disabled: disableUserInterface,\r\n                  maxLength: {\r\n                    value: 10,\r\n                    message: \"Phone number cannot be more than 10 digits\",\r\n                  },\r\n                  minLength: {\r\n                    value: 10,\r\n                    message: \"Phone number cannot be less than 10 digits\",\r\n                  },\r\n                })}\r\n                type=\"tel\"\r\n                id=\"user_contact_number\"\r\n                name=\"user_contact_number\"\r\n                placeholder=\"Enter contact number\"\r\n                className={cn(\r\n                  \"text-sm pe-9 text-slate-800 w-full shadow-sm relative block rounded-b-md border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none mb-4\",\r\n                  {\r\n                    \" text-slate-800 placeholder:text-slate-800 bg-red-100\":\r\n                      errors.user_contact_number,\r\n                    // \"placeholder:text-red-500\": errors.user_contact_number,\r\n                  }\r\n                )}\r\n              />\r\n              <div className=\"mt-2\">\r\n                {[\r\n                  errors.user_first_name,\r\n                  errors.user_surname,\r\n                  errors.user_contact_number,\r\n                ].map((error, index) => (\r\n                  <p key={index} className=\" text-red-500 text-sm italic\">\r\n                    {error?.message}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n              {isErrorUpdate && (\r\n                <ErrorAlert\r\n                  secondaryText={`${errorUpdate.response.data.message} ${error.message}`}\r\n                />\r\n              )}\r\n              {isSuccessUpdate && (\r\n                <SuccessAlert secondaryText={`Profile successfully updated`} />\r\n              )}\r\n              <div className=\"mt-2\">\r\n                <Button\r\n                  className=\"rounded-md\"\r\n                  disabled={disableUserInterface}\r\n                  type=\"submit\"\r\n                >\r\n                  {isRequestLoading || isFormLoading ? (\r\n                    <div className=\"w-full h-full flex justify-center items-center\">\r\n                      <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n                    </div>\r\n                  ) : (\r\n                    \"Update profile\"\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"mb-20\" />\r\n      </main>\r\n    </LoadPageAnimation>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/custom_functions\";\r\n\r\n//\r\nexport function SuccessAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex text-wrap break-words\">\r\n        <div>\r\n          <p className=\"font-bold\">Yey ! all set</p>\r\n          <p className=\"text-sm text-wrap break-words\">\r\n            {secondaryText\r\n              ? secondaryText\r\n              : \"Welcome to Reload Logistics services\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function InfoAlert({\r\n  primaryText,\r\n  secondaryText,\r\n  className,\r\n  children,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-blue-100 border-t-4 border-blue-500 rounded-b-md text-blue-700 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex text-wrap break-words\">\r\n        <div>\r\n          <p className=\"font-bold\">{primaryText}</p>\r\n          <p className=\"text-sm text-wrap break-words\">\r\n            {secondaryText\r\n              ? secondaryText\r\n              : \"Welcome to Reload Logistics services\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ErrorAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-red-100 border-t-4 border-red-500 rounded-b-md text-red-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex\">\r\n        <div>\r\n          <p className=\"font-bold\">Oops ! Error</p>\r\n          <p className=\"text-sm\">\r\n            {secondaryText ? secondaryText : \"An error occured\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const PAGES_VARIANT = {\r\n  hidden: {\r\n    opacity: 0,\r\n  },\r\n  visible: {\r\n    opacity: 1,\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n  },\r\n};\r\n\r\nexport const SECTION_VARIANT = {\r\n  hidden: {\r\n    opacity: 0,\r\n    y: \"10px\",\r\n  },\r\n  visible: {\r\n    opacity: 1,\r\n    y: 0,\r\n  },\r\n};\r\n","import { motion } from \"framer-motion\";\r\nimport { PAGES_VARIANT } from \"../../utils/animation_variants\";\r\nimport {\r\n  SECTION_ANIMATION_DELAY,\r\n  SECTION_ANIMATION_DURATION,\r\n} from \"../../utils/information\";\r\n\r\nexport function LoadPageAnimation({ children, ...props }) {\r\n  return (\r\n    <motion.section\r\n      variants={PAGES_VARIANT}\r\n      animate=\"visible\"\r\n      initial=\"hidden\"\r\n      exit=\"exit\"\r\n      transition={{\r\n        duration: SECTION_ANIMATION_DURATION,\r\n        delay: SECTION_ANIMATION_DELAY,\r\n      }}\r\n    >\r\n      {children}\r\n    </motion.section>\r\n  );\r\n}\r\n","import { ThreeDots } from \"react-loader-spinner\";\r\n\r\nexport function LoadingComponent({ secondary_text }) {\r\n  return (\r\n    <div className=\"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4\">\r\n      <div className=\"flex flex-col justify-center items-center gap-4\">\r\n        <span className=\"text-3xl font-bold\">Please be patient</span>\r\n        <span className=\"text-xl\">{secondary_text}</span>\r\n      </div>\r\n      <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Profile","queryClient","useQueryClient","disableUserInterface","setDisableUserInterface","useState","register","handleSubmit","formState","isLoading","isFormLoading","errors","useForm","data","error","isError","useQuery","queryKey","queryFn","fetchUserProfile","useEffect","window","scrollTo","isRequestLoading","isSuccess","isSuccessUpdate","mutateAsync","updateProfileAsync","isErrorUpdate","errorUpdate","useMutation","mutationFn","updateUserProfile","onSuccess","_","invalidateQueries","p","onError","onMutate","_jsx","LoadingComponent","secondary_text","ErrorAlert","secondaryText","concat","response","LoadPageAnimation","children","_jsxs","className","onSubmit","async","disabled","type","name","placeholder","value","email","cn","required","user_first_name","id","user_surname","autoComplete","user_contact_number","maxLength","message","minLength","map","index","SuccessAlert","Button","ThreeDots","visible","width","height","color","_ref","props","role","InfoAlert","_ref2","primaryText","_ref3","PAGES_VARIANT","hidden","opacity","exit","motion","section","variants","animate","initial","transition","duration","SECTION_ANIMATION_DURATION","delay","SECTION_ANIMATION_DELAY"],"sourceRoot":""}